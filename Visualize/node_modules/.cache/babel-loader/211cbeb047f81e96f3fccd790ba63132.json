{"ast":null,"code":"import { wallnodeclr, normalborderclr, normalnodeclr, visited1, visited2, visited3, pathnodeclr } from \"../colors\";\nimport { adjlist, graph_init, pathcolor, visitclr, getweight } from \"./gridsetup\";\nimport { sleep, activateit, clearpath } from \"../clearfuncs\";\n\nconst callvisit = (i, alldivs, speed, clr) => {\n  setTimeout(() => {\n    visitclr(i, alldivs, speed, clr);\n  }, 0); // sleep(20);\n};\n\nconst callvisit2 = (i, alldivs, speed, clr) => {\n  setTimeout(() => {\n    callvisit(i, alldivs, speed, clr);\n  }, 0); // sleep(20);\n};\n\nconst activateit2 = (alldivs, val, i, speed, clr) => {\n  setTimeout(() => activateit(alldivs, val), 0);\n  setTimeout(() => callvisit(i, alldivs, speed, clr), 0);\n};\n\nconst startDFS = (u, dest, speed, clr) => {\n  let dist = new Array(2100).fill(0);\n  let prev = new Array(2100).fill(-1);\n  let visit = new Array(2100).fill(0);\n  let st = [];\n  let novst = 0;\n  let totdst = 0;\n  st.push([0, u]);\n  dist[u] = 0;\n  let divs = document.getElementsByClassName(\"nodes\");\n  let alldivs = [...divs];\n\n  while (st.length != 0) {\n    let now = st[st.length - 1];\n    st.pop();\n    let v = now[1];\n    let w = now[0];\n    visit[v] = 1;\n    setTimeout(() => activateit2(alldivs, alldivs[v - 1], v - 1, speed * 2, clr), 0);\n    novst++;\n    if (v === dest) break;\n    let edges = adjlist.get(v);\n\n    for (let to of edges.slice().reverse()) {\n      if (visit[to[0]] === 0) {\n        dist[to[0]] = w + to[1];\n        prev[to[0]] = v;\n        st.push([dist[to[0]], to[0]]);\n      }\n    }\n  }\n\n  let path = [];\n  let crawl = dest;\n  path.push(crawl);\n\n  while (prev[crawl] != -1) {\n    path.push(prev[crawl]);\n    totdst += getweight(crawl, prev[crawl], adjlist);\n    crawl = prev[crawl];\n  }\n\n  console.log(path);\n  return [novst, totdst, path];\n};\n\nexport const dfs = (speed, bmb) => {\n  graph_init();\n  let src = parseInt(document.getElementById(\"source\").parentNode.id.slice(4));\n  let dst = parseInt(document.getElementById(\"dest\").parentNode.id.slice(4));\n  let bomb;\n\n  if (bmb) {\n    bomb = parseInt(document.getElementById(\"bomb\").parentNode.id.slice(4));\n    let a, b;\n    a = startDFS(src, bomb, speed, visited3);\n    if (a[2][a[2].length - 1] === src) b = startDFS(bomb, dst, speed, visited1);\n    setTimeout(() => pathcolor(a[2], speed * 2), 0);\n    if (a[2][a[2].length - 1] === src) setTimeout(() => pathcolor(b[2], speed * 2), 0);\n    let res;\n    if (a[2][a[2].length - 1] === src) res = [a[0] + b[0], a[1] + b[1]];else return [a[0], 0];\n    return res;\n  }\n\n  let ar = startDFS(src, dst, speed, visited1);\n  setTimeout(() => pathcolor(ar[2], speed * 2), 0);\n  return ar;\n};","map":{"version":3,"sources":["/home/saikrupananda/vscode/LiveSites/Visualizer/Visualize/src/components/pathfinder/algorithms/dfs.js"],"names":["wallnodeclr","normalborderclr","normalnodeclr","visited1","visited2","visited3","pathnodeclr","adjlist","graph_init","pathcolor","visitclr","getweight","sleep","activateit","clearpath","callvisit","i","alldivs","speed","clr","setTimeout","callvisit2","activateit2","val","startDFS","u","dest","dist","Array","fill","prev","visit","st","novst","totdst","push","divs","document","getElementsByClassName","length","now","pop","v","w","edges","get","to","slice","reverse","path","crawl","console","log","dfs","bmb","src","parseInt","getElementById","parentNode","id","dst","bomb","a","b","res","ar"],"mappings":"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","sourcesContent":["import {\n  wallnodeclr,\n  normalborderclr,\n  normalnodeclr,\n  visited1,\n  visited2,\n  visited3,\n  pathnodeclr,\n} from \"../colors\";\n\nimport {\n  adjlist,\n  graph_init,\n  pathcolor,\n  visitclr,\n  getweight,\n} from \"./gridsetup\";\nimport { sleep, activateit, clearpath } from \"../clearfuncs\";\n\nconst callvisit = (i, alldivs, speed, clr) => {\n  setTimeout(() => {\n    visitclr(i, alldivs, speed, clr);\n  }, 0);\n  // sleep(20);\n};\n\nconst callvisit2 = (i, alldivs, speed, clr) => {\n  setTimeout(() => {\n    callvisit(i, alldivs, speed, clr);\n  }, 0);\n  // sleep(20);\n};\n\nconst activateit2 = (alldivs, val, i, speed, clr) => {\n  setTimeout(() => activateit(alldivs, val), 0);\n  setTimeout(() => callvisit(i, alldivs, speed, clr), 0);\n};\n\nconst startDFS = (u, dest, speed, clr) => {\n  let dist = new Array(2100).fill(0);\n  let prev = new Array(2100).fill(-1);\n  let visit = new Array(2100).fill(0);\n  let st = [];\n  let novst = 0;\n  let totdst = 0;\n  st.push([0, u]);\n  dist[u] = 0;\n  let divs = document.getElementsByClassName(\"nodes\");\n  let alldivs = [...divs];\n\n  while (st.length != 0) {\n    let now = st[st.length - 1];\n    st.pop();\n    let v = now[1];\n    let w = now[0];\n    visit[v] = 1;\n    setTimeout(\n      () => activateit2(alldivs, alldivs[v - 1], v - 1, speed * 2, clr),\n      0\n    );\n    novst++;\n    if (v === dest) break;\n\n    let edges = adjlist.get(v);\n    for (let to of edges.slice().reverse()) {\n      if (visit[to[0]] === 0) {\n        dist[to[0]] = w + to[1];\n        prev[to[0]] = v;\n        st.push([dist[to[0]], to[0]]);\n      }\n    }\n  }\n  let path = [];\n  let crawl = dest;\n  path.push(crawl);\n  while (prev[crawl] != -1) {\n    path.push(prev[crawl]);\n    totdst += getweight(crawl, prev[crawl], adjlist);\n    crawl = prev[crawl];\n  }\n  console.log(path);\n  return [novst, totdst, path];\n};\n\nexport const dfs = (speed, bmb) => {\n  graph_init();\n  let src = parseInt(document.getElementById(\"source\").parentNode.id.slice(4));\n  let dst = parseInt(document.getElementById(\"dest\").parentNode.id.slice(4));\n  let bomb;\n  if (bmb) {\n    bomb = parseInt(document.getElementById(\"bomb\").parentNode.id.slice(4));\n    let a, b;\n    a = startDFS(src, bomb, speed, visited3);\n    if (a[2][a[2].length - 1] === src) b = startDFS(bomb, dst, speed, visited1);\n    setTimeout(() => pathcolor(a[2], speed * 2), 0);\n    if (a[2][a[2].length - 1] === src)\n      setTimeout(() => pathcolor(b[2], speed * 2), 0);\n    let res;\n    if (a[2][a[2].length - 1] === src) res = [a[0] + b[0], a[1] + b[1]];\n    else return [a[0], 0];\n    return res;\n  }\n  let ar = startDFS(src, dst, speed, visited1);\n  setTimeout(() => pathcolor(ar[2], speed * 2), 0);\n  return ar;\n};\n"]},"metadata":{},"sourceType":"module"}