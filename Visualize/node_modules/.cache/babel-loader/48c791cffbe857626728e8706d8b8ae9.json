{"ast":null,"code":"import { activateit } from \"./clearfuncs\";\nimport { shuffle } from \"./mazes/dfsmaze\";\nconst wallnodeclr = \"rgb(84, 55, 90)\";\nconst normalnodeclr = \"white\";\nconst normalborderclr = \"rgba(255, 201, 255, 0.411)\";\nexport const wallnodefunc = e => {\n  console.log(e.target);\n  let x;\n  if (e.target.className == \"nodes\") x = e.target;else if (e.target.parentNode.className == \"nodes\") x = e.target.parentNode;else if (e.target.parentNode.parentNode.className == \"nodes\") x = e.target.parentNode.parentNode;else if (e.target.parentNode.parentNode.parentNode.className == \"nodes\") x = e.target.parentNode.parentNode.parentNode;\n  console.log(x.children.length);\n\n  if (x.children.length == 0) {\n    if (x.style.backgroundColor === normalnodeclr) {\n      x.style.backgroundColor = wallnodeclr;\n      x.style.borderColor = wallnodeclr;\n      x.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, x), 0);\n    } else {\n      x.style.backgroundColor = normalnodeclr;\n      x.style.borderColor = normalborderclr;\n    }\n  }\n};\nlet b = `<div draggable=\"true\" class=\"middle\" id=\"bomb\">\n<i class=\"fa fa-bomb\"></i>\n</div>`;\nexport const addbomb = () => {\n  let rand = [];\n  let nodes = document.getElementsByClassName(\"nodes\");\n  let allnodes = [...nodes];\n\n  for (let i = 0; i <= 2058; i++) {\n    if (allnodes[i].children.length === 0 && allnodes[i].style.backgroundColor === normalnodeclr) {\n      rand.push(i);\n    }\n  }\n\n  for (let i = 0; i < 5; i++) rand = shuffle(rand);\n\n  let ind = rand[0];\n  let x = allnodes[ind];\n  let a = new DOMParser();\n  let y = a.parseFromString(b, \"text/html\");\n  console.log(y.body.firstChild);\n  x.style.backgroundColor = normalnodeclr;\n  x.style.borderColor = normalborderclr;\n  x.append(y.body.firstChild);\n  x.style.animation = \"popup 250ms ease-out\";\n  bmbinit();\n  setTimeout(() => activateit(0, x), 0);\n};\nexport const rmbomb = () => {\n  let divs = document.getElementById(\"bomb\");\n  divs.parentNode.removeChild(divs.parentNode.firstElementChild);\n};\nlet w = `<div class=\"weight\">\n      <i class=\"fas fa-weight-hanging\"></i>\n    </div>`;\nexport const addweight = e => {\n  console.log(e.target);\n  let x;\n  if (e.target.className == \"nodes\") x = e.target;else if (e.target.parentNode.className == \"nodes\") x = e.target.parentNode;else if (e.target.parentNode.parentNode.className == \"nodes\") x = e.target.parentNode.parentNode;else if (e.target.parentNode.parentNode.parentNode.className == \"nodes\") x = e.target.parentNode.parentNode.parentNode;\n  console.log(x);\n\n  if (x.children.length == 0) {\n    let a = new DOMParser();\n    let y = a.parseFromString(w, \"text/html\");\n    console.log(y.body.firstChild);\n    x.style.backgroundColor = normalnodeclr;\n    x.style.borderColor = normalborderclr;\n    x.append(y.body.firstChild);\n    x.style.animation = \"popup 250ms ease-out\";\n    setTimeout(() => activateit(0, x), 0);\n  } else if (x.children.length == 1 && x.children[0].className === \"weight\") {\n    x.children[0].remove();\n  }\n};\nexport const removeweights = () => {\n  let divs = document.getElementsByClassName(\"weight\");\n  let alldivs = [...divs];\n\n  for (let e of alldivs) {\n    e.parentNode.removeChild(e.parentNode.firstElementChild);\n  }\n};\nlet src, empties, dest, bmb, x;\nexport const initialize = () => {\n  src = document.querySelector(\"#source\");\n  console.log(src);\n  dest = document.querySelector(\"#dest\");\n  empties = document.querySelectorAll(\".nodes\");\n  src.addEventListener(\"dragstart\", dragStart);\n  src.addEventListener(\"dragend\", dragEnd);\n  dest.addEventListener(\"dragstart\", dragStart2);\n  dest.addEventListener(\"dragend\", dragEnd2);\n\n  for (const empty of empties) {\n    empty.addEventListener(\"dragover\", dragOver);\n    empty.addEventListener(\"dragenter\", dragEnter);\n    empty.addEventListener(\"dragleave\", dragLeave);\n    empty.addEventListener(\"drop\", dragDrop);\n  }\n};\nexport const bmbinit = () => {\n  bmb = document.querySelector(\"#bomb\");\n  bmb.addEventListener(\"dragstart\", dragStart3);\n  bmb.addEventListener(\"dragend\", dragEnd3);\n};\n\nfunction dragStart() {\n  x = 1;\n  console.log(src);\n}\n\nfunction dragStart2() {\n  x = 2;\n}\n\nfunction dragStart3() {\n  x = 3;\n}\n\nfunction dragEnd() {\n  this.id = \"source\";\n}\n\nfunction dragEnd2() {\n  this.id = \"dest\";\n}\n\nfunction dragEnd3() {\n  this.id = \"bomb\";\n}\n\nfunction dragOver(e) {\n  e.preventDefault();\n}\n\nfunction dragEnter(e) {\n  e.preventDefault(); // this.className += \" hovered\";\n}\n\nfunction dragLeave() {\n  this.className = \"nodes\";\n}\n\nfunction dragDrop() {\n  let str = this.children.length;\n  console.log(this.children.length);\n  this.className = \"nodes\";\n  this.style.backgroundColor = normalnodeclr;\n  this.style.borderColor = normalborderclr;\n\n  if (str == 1 && this.children[0].className === \"weight\") {\n    console.log(\"yes\");\n    this.children[0].remove();\n\n    if (x == 1) {\n      this.append(src);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    } else if (x == 2) {\n      this.append(dest);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    } else if (x == 3) {\n      this.append(bmb);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    }\n  } else if (str == 0) {\n    console.log(x);\n\n    if (x == 1) {\n      this.append(src);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    } else if (x == 2) {\n      this.append(dest);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    } else if (x == 3) {\n      this.append(bmb);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    }\n  }\n\n  x = 0;\n  console.log(this.children.length);\n}","map":{"version":3,"sources":["/home/saikrupananda/vscode/LiveSites/Visualizer/Visualize/src/components/pathfinder/setup.js"],"names":["activateit","shuffle","wallnodeclr","normalnodeclr","normalborderclr","wallnodefunc","e","console","log","target","x","className","parentNode","children","length","style","backgroundColor","borderColor","animation","setTimeout","b","addbomb","rand","nodes","document","getElementsByClassName","allnodes","i","push","ind","a","DOMParser","y","parseFromString","body","firstChild","append","bmbinit","rmbomb","divs","getElementById","removeChild","firstElementChild","w","addweight","remove","removeweights","alldivs","src","empties","dest","bmb","initialize","querySelector","querySelectorAll","addEventListener","dragStart","dragEnd","dragStart2","dragEnd2","empty","dragOver","dragEnter","dragLeave","dragDrop","dragStart3","dragEnd3","id","preventDefault","str"],"mappings":"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","sourcesContent":["import { activateit } from \"./clearfuncs\";\nimport { shuffle } from \"./mazes/dfsmaze\";\nconst wallnodeclr = \"rgb(84, 55, 90)\";\nconst normalnodeclr = \"white\";\nconst normalborderclr = \"rgba(255, 201, 255, 0.411)\";\n\nexport const wallnodefunc = (e) => {\n  console.log(e.target);\n  let x;\n  if (e.target.className == \"nodes\") x = e.target;\n  else if (e.target.parentNode.className == \"nodes\") x = e.target.parentNode;\n  else if (e.target.parentNode.parentNode.className == \"nodes\")\n    x = e.target.parentNode.parentNode;\n  else if (e.target.parentNode.parentNode.parentNode.className == \"nodes\")\n    x = e.target.parentNode.parentNode.parentNode;\n  console.log(x.children.length);\n  if (x.children.length == 0) {\n    if (x.style.backgroundColor === normalnodeclr) {\n      x.style.backgroundColor = wallnodeclr;\n      x.style.borderColor = wallnodeclr;\n      x.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, x), 0);\n    } else {\n      x.style.backgroundColor = normalnodeclr;\n      x.style.borderColor = normalborderclr;\n    }\n  }\n};\n\nlet b = `<div draggable=\"true\" class=\"middle\" id=\"bomb\">\n<i class=\"fa fa-bomb\"></i>\n</div>`;\n\nexport const addbomb = () => {\n  let rand = [];\n  let nodes = document.getElementsByClassName(\"nodes\");\n  let allnodes = [...nodes];\n  for (let i = 0; i <= 2058; i++) {\n    if (\n      allnodes[i].children.length === 0 &&\n      allnodes[i].style.backgroundColor === normalnodeclr\n    ) {\n      rand.push(i);\n    }\n  }\n  for (let i = 0; i < 5; i++) rand = shuffle(rand);\n  let ind = rand[0];\n  let x = allnodes[ind];\n  let a = new DOMParser();\n  let y = a.parseFromString(b, \"text/html\");\n  console.log(y.body.firstChild);\n  x.style.backgroundColor = normalnodeclr;\n  x.style.borderColor = normalborderclr;\n  x.append(y.body.firstChild);\n  x.style.animation = \"popup 250ms ease-out\";\n  bmbinit();\n  setTimeout(() => activateit(0, x), 0);\n};\n\nexport const rmbomb = () => {\n  let divs = document.getElementById(\"bomb\");\n  divs.parentNode.removeChild(divs.parentNode.firstElementChild);\n};\n\nlet w = `<div class=\"weight\">\n      <i class=\"fas fa-weight-hanging\"></i>\n    </div>`;\n\nexport const addweight = (e) => {\n  console.log(e.target);\n  let x;\n  if (e.target.className == \"nodes\") x = e.target;\n  else if (e.target.parentNode.className == \"nodes\") x = e.target.parentNode;\n  else if (e.target.parentNode.parentNode.className == \"nodes\")\n    x = e.target.parentNode.parentNode;\n  else if (e.target.parentNode.parentNode.parentNode.className == \"nodes\")\n    x = e.target.parentNode.parentNode.parentNode;\n  console.log(x);\n  if (x.children.length == 0) {\n    let a = new DOMParser();\n    let y = a.parseFromString(w, \"text/html\");\n    console.log(y.body.firstChild);\n    x.style.backgroundColor = normalnodeclr;\n    x.style.borderColor = normalborderclr;\n    x.append(y.body.firstChild);\n    x.style.animation = \"popup 250ms ease-out\";\n    setTimeout(() => activateit(0, x), 0);\n  } else if (x.children.length == 1 && x.children[0].className === \"weight\") {\n    x.children[0].remove();\n  }\n};\n\nexport const removeweights = () => {\n  let divs = document.getElementsByClassName(\"weight\");\n  let alldivs = [...divs];\n  for (let e of alldivs) {\n    e.parentNode.removeChild(e.parentNode.firstElementChild);\n  }\n};\n\nlet src, empties, dest, bmb, x;\n\nexport const initialize = () => {\n  src = document.querySelector(\"#source\");\n  console.log(src);\n  dest = document.querySelector(\"#dest\");\n\n  empties = document.querySelectorAll(\".nodes\");\n  src.addEventListener(\"dragstart\", dragStart);\n  src.addEventListener(\"dragend\", dragEnd);\n  dest.addEventListener(\"dragstart\", dragStart2);\n  dest.addEventListener(\"dragend\", dragEnd2);\n  for (const empty of empties) {\n    empty.addEventListener(\"dragover\", dragOver);\n    empty.addEventListener(\"dragenter\", dragEnter);\n    empty.addEventListener(\"dragleave\", dragLeave);\n    empty.addEventListener(\"drop\", dragDrop);\n  }\n};\n\nexport const bmbinit = () => {\n  bmb = document.querySelector(\"#bomb\");\n  bmb.addEventListener(\"dragstart\", dragStart3);\n  bmb.addEventListener(\"dragend\", dragEnd3);\n};\n\nfunction dragStart() {\n  x = 1;\n  console.log(src);\n}\n\nfunction dragStart2() {\n  x = 2;\n}\n\nfunction dragStart3() {\n  x = 3;\n}\n\nfunction dragEnd() {\n  this.id = \"source\";\n}\n\nfunction dragEnd2() {\n  this.id = \"dest\";\n}\n\nfunction dragEnd3() {\n  this.id = \"bomb\";\n}\n\nfunction dragOver(e) {\n  e.preventDefault();\n}\n\nfunction dragEnter(e) {\n  e.preventDefault();\n  // this.className += \" hovered\";\n}\n\nfunction dragLeave() {\n  this.className = \"nodes\";\n}\n\nfunction dragDrop() {\n  let str = this.children.length;\n  console.log(this.children.length);\n  this.className = \"nodes\";\n  this.style.backgroundColor = normalnodeclr;\n  this.style.borderColor = normalborderclr;\n  if (str == 1 && this.children[0].className === \"weight\") {\n    console.log(\"yes\");\n    this.children[0].remove();\n    if (x == 1) {\n      this.append(src);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    } else if (x == 2) {\n      this.append(dest);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    } else if (x == 3) {\n      this.append(bmb);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    }\n  } else if (str == 0) {\n    console.log(x);\n    if (x == 1) {\n      this.append(src);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    } else if (x == 2) {\n      this.append(dest);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    } else if (x == 3) {\n      this.append(bmb);\n      this.style.animation = \"popup 250ms ease-out\";\n      setTimeout(() => activateit(0, this), 0);\n    }\n  }\n  x = 0;\n  console.log(this.children.length);\n}\n"]},"metadata":{},"sourceType":"module"}