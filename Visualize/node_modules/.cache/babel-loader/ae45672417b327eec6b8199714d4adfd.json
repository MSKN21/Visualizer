{"ast":null,"code":"import { wallnodeclr, normalborderclr, normalnodeclr, visited1, visited2, visited3, pathnodeclr } from \"../colors\";\nimport { adjlist, graph_init, pathcolor, visitclr, getweight } from \"./gridsetup\";\nimport { sleep, activateit } from \"../clearfuncs\";\n\nconst callvisit = (i, alldivs, speed, clr) => {\n  setTimeout(() => {\n    visitclr(i, alldivs, speed, clr);\n  }, 0);\n};\n\nconst callvisit2 = (i, alldivs, speed, clr) => {\n  setTimeout(() => {\n    callvisit(i, alldivs, speed, clr);\n  }, 0);\n};\n\nconst activateit2 = (alldivs, val, i, speed, clr) => {\n  setTimeout(() => activateit(alldivs, val), 0);\n  setTimeout(() => callvisit(i, alldivs, speed, clr), 0);\n};\n\nconst startBFS = (u, dest, speed, clr) => {\n  let dist = new Array(2100).fill(50000);\n  let prev = new Array(2100).fill(-1);\n  let visit = new Array(2100).fill(0);\n  let st = [];\n  let novst = 0;\n  let totdst = 0;\n  st.push([0, u]);\n  dist[u] = 0;\n  let divs = document.getElementsByClassName(\"nodes\");\n  let alldivs = [...divs];\n\n  while (st.length != 0) {\n    let now = st[0];\n    st.shift();\n    let v = now[1];\n    let w = now[0];\n    visit[v] = 1;\n    setTimeout(() => activateit2(alldivs, alldivs[v - 1], v - 1, speed * 2, clr), 0);\n    novst++;\n    if (v === dest) break;\n    let edges = adjlist.get(v);\n\n    for (let to of edges) {\n      if (visit[to[0]] === 0) {\n        visit[to[0]] = 1;\n        dist[to[0]] = w + to[1];\n        prev[to[0]] = v;\n        st.push([dist[to[0]], to[0]]);\n      }\n    }\n  }\n\n  let path = [];\n  let crawl = dest;\n  path.push(crawl);\n\n  while (prev[crawl] != -1) {\n    path.push(prev[crawl]);\n    totdst += getweight(crawl, prev[crawl], adjlist);\n    crawl = prev[crawl];\n  }\n\n  console.log(path);\n  return [novst, totdst, path];\n};\n\nexport const bfs = (speed, bmb) => {\n  graph_init();\n  let src = parseInt(document.getElementById(\"source\").parentNode.id.slice(4));\n  let dst = parseInt(document.getElementById(\"dest\").parentNode.id.slice(4));\n  let bomb;\n\n  if (bmb) {\n    bomb = parseInt(document.getElementById(\"bomb\").parentNode.id.slice(4));\n    let a, b;\n    a = startBFS(src, bomb, speed, visited3);\n    if (a[2][a[2].length - 1] === src) b = startBFS(bomb, dst, speed, visited1);\n    setTimeout(() => pathcolor(a[2], speed * 2), 0);\n    if (a[2][a[2].length - 1] === src) setTimeout(() => pathcolor(b[2], speed * 2), 0);\n    let res;\n    if (a[2][a[2].length - 1] === src) res = [a[0] + b[0], a[1] + b[1]];else return [a[0], 0];\n    return res;\n  }\n\n  let ar = startBFS(src, dst, speed, visited1);\n  setTimeout(() => pathcolor(ar[2], speed * 2), 0);\n  return ar;\n};","map":{"version":3,"sources":["/home/saikrupananda/vscode/LiveSites/Visualizer/Visualize/src/components/pathfinder/algorithms/bfs.js"],"names":["wallnodeclr","normalborderclr","normalnodeclr","visited1","visited2","visited3","pathnodeclr","adjlist","graph_init","pathcolor","visitclr","getweight","sleep","activateit","callvisit","i","alldivs","speed","clr","setTimeout","callvisit2","activateit2","val","startBFS","u","dest","dist","Array","fill","prev","visit","st","novst","totdst","push","divs","document","getElementsByClassName","length","now","shift","v","w","edges","get","to","path","crawl","console","log","bfs","bmb","src","parseInt","getElementById","parentNode","id","slice","dst","bomb","a","b","res","ar"],"mappings":"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","sourcesContent":["import {\n  wallnodeclr,\n  normalborderclr,\n  normalnodeclr,\n  visited1,\n  visited2,\n  visited3,\n  pathnodeclr,\n} from \"../colors\";\n\nimport {\n  adjlist,\n  graph_init,\n  pathcolor,\n  visitclr,\n  getweight,\n} from \"./gridsetup\";\nimport { sleep, activateit } from \"../clearfuncs\";\n\nconst callvisit = (i, alldivs, speed, clr) => {\n  setTimeout(() => {\n    visitclr(i, alldivs, speed, clr);\n  }, 0);\n};\n\nconst callvisit2 = (i, alldivs, speed, clr) => {\n  setTimeout(() => {\n    callvisit(i, alldivs, speed, clr);\n  }, 0);\n};\n\nconst activateit2 = (alldivs, val, i, speed, clr) => {\n  setTimeout(() => activateit(alldivs, val), 0);\n  setTimeout(() => callvisit(i, alldivs, speed, clr), 0);\n};\n\nconst startBFS = (u, dest, speed, clr) => {\n  let dist = new Array(2100).fill(50000);\n  let prev = new Array(2100).fill(-1);\n  let visit = new Array(2100).fill(0);\n  let st = [];\n  let novst = 0;\n  let totdst = 0;\n  st.push([0, u]);\n  dist[u] = 0;\n  let divs = document.getElementsByClassName(\"nodes\");\n  let alldivs = [...divs];\n\n  while (st.length != 0) {\n    let now = st[0];\n    st.shift();\n\n    let v = now[1];\n    let w = now[0];\n    visit[v] = 1;\n    setTimeout(\n      () => activateit2(alldivs, alldivs[v - 1], v - 1, speed * 2, clr),\n      0\n    );\n    novst++;\n    if (v === dest) break;\n\n    let edges = adjlist.get(v);\n    for (let to of edges) {\n      if (visit[to[0]] === 0) {\n        visit[to[0]] = 1;\n        dist[to[0]] = w + to[1];\n        prev[to[0]] = v;\n        st.push([dist[to[0]], to[0]]);\n      }\n    }\n  }\n\n  let path = [];\n  let crawl = dest;\n  path.push(crawl);\n  while (prev[crawl] != -1) {\n    path.push(prev[crawl]);\n    totdst += getweight(crawl, prev[crawl], adjlist);\n    crawl = prev[crawl];\n  }\n  console.log(path);\n  return [novst, totdst, path];\n};\n\nexport const bfs = (speed, bmb) => {\n  graph_init();\n  let src = parseInt(document.getElementById(\"source\").parentNode.id.slice(4));\n  let dst = parseInt(document.getElementById(\"dest\").parentNode.id.slice(4));\n  let bomb;\n  if (bmb) {\n    bomb = parseInt(document.getElementById(\"bomb\").parentNode.id.slice(4));\n    let a, b;\n    a = startBFS(src, bomb, speed, visited3);\n    if (a[2][a[2].length - 1] === src) b = startBFS(bomb, dst, speed, visited1);\n    setTimeout(() => pathcolor(a[2], speed * 2), 0);\n    if (a[2][a[2].length - 1] === src)\n      setTimeout(() => pathcolor(b[2], speed * 2), 0);\n    let res;\n    if (a[2][a[2].length - 1] === src) res = [a[0] + b[0], a[1] + b[1]];\n    else return [a[0], 0];\n    return res;\n  }\n  let ar = startBFS(src, dst, speed, visited1);\n  setTimeout(() => pathcolor(ar[2], speed * 2), 0);\n  return ar;\n};\n"]},"metadata":{},"sourceType":"module"}