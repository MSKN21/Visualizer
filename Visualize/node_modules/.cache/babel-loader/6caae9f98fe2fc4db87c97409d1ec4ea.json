{"ast":null,"code":"import _toConsumableArray from\"/home/saikrupananda/vscode/LiveSites/Visualizer/Visualize/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _createForOfIteratorHelper from\"/home/saikrupananda/vscode/LiveSites/Visualizer/Visualize/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/home/saikrupananda/vscode/LiveSites/Visualizer/Visualize/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{activateit,sleep,clearwalls_nodes,clearpath}from\"../clearfuncs\";import{adjlist}from\"../algorithms/gridsetup\";import{wallnodeclr,normalborderclr,normalnodeclr,visited1,visited2,pathnodeclr}from\"../colors\";import{getcoord}from\"./krushkals\";var stack=[];var krush=[];var visited=[];var stk2=[];var stk3=[];var stk4=[];var wallsarr=[];var arr=[];var directions1=[[0,2],[0,-2],[-2,0],[2,0]];var directions2=[[0,1],[0,-1],[-1,0],[1,0]];var dfssetup=function dfssetup(){stack=[];visited=[];stk2=[];stk3=[];stk4=[];wallsarr=[];for(var i=0;i<29;i++){var temp=[];for(var j=0;j<71;j++){temp.push(false);}visited.push(temp);}arr=[];var val=0;for(var _i=0;_i<29;_i++){var _temp=[];for(var _j=0;_j<71;_j++){_temp.push(val);val++;}arr.push(_temp);}directions1=[[0,2],[0,-2],[-2,0],[2,0]];directions2=[[0,1],[0,-1],[-1,0],[1,0]];for(var _i2=0;_i2<2059;_i2++){wallsarr[_i2]=true;}};// dfssetup();\nfunction getRndnDirec(){var array=[[0,2],[0,-2],[-2,0],[2,0]];var currentIndex=array.length,randomIndex;while(0!==currentIndex){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex--;var _ref=[array[randomIndex],array[currentIndex]];array[currentIndex]=_ref[0];array[randomIndex]=_ref[1];}return array;}export var shuffle=function shuffle(array){var currentIndex=array.length,randomIndex;while(0!==currentIndex){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex--;var _ref2=[array[randomIndex],array[currentIndex]];array[currentIndex]=_ref2[0];array[randomIndex]=_ref2[1];}return array;};function DFS(i,j){stack.push([i,j]);var temp=getRndnDirec();visited[i][j]=true;temp.forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2),x=_ref4[0],y=_ref4[1];var p=i+x,q=j+y;if(0<=p&&p<29&&0<=q&&q<71){if(!visited[p][q]){stk2.push([[i,j],[p,q]]);DFS(p,q);}}});}var prims=function prims(i,j){stack.push([[i,j],[i,j]]);var _loop=function _loop(){stack=shuffle(stack);var node=stack[0];stk2.push(node);visited[node[1][0]][node[1][1]]=true;stack.shift();directions1.forEach(function(_ref5){var _ref6=_slicedToArray(_ref5,2),x=_ref6[0],y=_ref6[1];var p=node[1][0]+x,q=node[1][1]+y;if(0<=p&&p<29&&0<=q&&q<71){if(!visited[p][q]){stack.push([[node[1][0],node[1][1]],[p,q]]);visited[p][q]=true;}}});};while(stack.length!==0){_loop();}};//mhg\nvar root=new Array(2060);var visitd=new Array(2060);var addEdge=function addEdge(u,v,dist){adjlist.get(u).push([v,dist]);};var addVertex=function addVertex(v){adjlist.set(v,[]);};export var graphsetup=function graphsetup(){var val=0;var arr=new Array(29);for(var i=0;i<29;i++){arr[i]=new Array(71);}for(var _i3=0;_i3<29;_i3++){for(var j=0;j<71;j++){val++;arr[_i3][j]=val;}}for(var _i4=73;_i4<=2059;_i4+=2){addVertex(_i4);}for(var _i5=1;_i5<29;_i5+=2){for(var _j2=1;_j2<71;_j2+=2){var vrtx=arr[_i5][_j2];if(_i5-2>=0){addEdge(vrtx,arr[_i5-2][_j2],1);}if(_j2+2<71){addEdge(vrtx,arr[_i5][_j2+2],1);}if(_i5+2<29){addEdge(vrtx,arr[_i5+2][_j2],1);}if(_j2-2>=0){addEdge(vrtx,arr[_i5][_j2-2],1);}}}for(var _i6=73;_i6<=2059;_i6+=2){root[_i6]=_i6;}for(var _i7=73;_i7<=2059;_i7+=2){var m=adjlist.get(_i7);var _iterator=_createForOfIteratorHelper(m),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var nd=_step.value;if(!visitd[nd[0]])krush.push([_i7,nd[0]]);}}catch(err){_iterator.e(err);}finally{_iterator.f();}visitd[m]=1;}};export var parent=function parent(a){while(root[a]!=a){root[a]=root[root[a]];a=root[a];}return a;};export var union_find=function union_find(a,b){var d=parent(a);var e=parent(b);root[d]=root[e];};//mh\nvar kruskal=function kruskal(){graphsetup();var a,b;for(var i=0;i<5;i++){krush=shuffle(krush);}var _iterator2=_createForOfIteratorHelper(krush),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var node=_step2.value;a=node[0];b=node[1];if(parent(a)!=parent(b)){//only select edge if it does not create a cycle (ie the two nodes forming it have different root nodes)\nstk2.push([getcoord(a),getcoord(b)]);union_find(a,b);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}};function cmpr(x,y){for(var i=0;i<directions1.length;i++){if(directions1[i][0]==x&&directions1[i][1]==y){return directions2[i];}}return[0,0];}function diff(a,b,p,q){var x=p-a;var y=q-b;var arr=cmpr(x,y);stk3.push([a+arr[0],b+arr[1]]);stk4.push([[a,b],[a+arr[0],b+arr[1]],[p,q]]);}var paths=function paths(){for(var i=0;i<stk2.length;i++){var a=stk2[i][0][0];var b=stk2[i][0][1];var p=stk2[i][1][0];var q=stk2[i][1][1];diff(a,b,p,q);}// console.log(stk3);\n};var pointsurroundingwalls=function pointsurroundingwalls(num){var nodes=document.getElementsByClassName(\"nodes\");var allnodes=_toConsumableArray(nodes);var val=0;var i,j;for(var x=0;x<29;x++){for(var y=0;y<71;y++){val++;if(val==num){i=x;j=y;}}}console.log(i,j);if(i>=0&&i<=28&&j>=0&&j<=70){if(j+1<=70&&wallsarr[arr[i][j+1]]){wallsarr[arr[i][j+1]]=false;setTimeout(function(){callvisit(arr[i][j+1],allnodes,7,normalnodeclr);},0);}else if(j-1>=0&&wallsarr[arr[i][j-1]]){wallsarr[arr[i][j-1]]=false;setTimeout(function(){callvisit(arr[i][j-1],allnodes,7,normalnodeclr);},0);}else if(i+1<=28&&wallsarr[arr[i+1][j]]){wallsarr[arr[i+1][j]]=false;setTimeout(function(){callvisit(arr[i+1][j],allnodes,7,normalnodeclr);},0);}else if(i-1>=0&&wallsarr[arr[i-1][j]]){wallsarr[arr[i-1][j]]=false;setTimeout(function(){callvisit(arr[i-1][j],allnodes,7,normalnodeclr);},0);}}};var visitclr=function visitclr(i,alldivs,speed,clr){alldivs[i].style.backgroundColor=normalnodeclr;alldivs[i].style.borderColor=normalborderclr;alldivs[i].style.animation=\"popup4 300ms ease-in\";sleep(speed);// sleep(speed + speed * 0.4);\n};var callvisit=function callvisit(i,alldivs,speed,clr){setTimeout(function(){visitclr(i,alldivs,speed,clr);},0);// sleep(20);\n};var callvisit2=function callvisit2(i,alldivs,speed,clr){setTimeout(function(){callvisit(i,alldivs,speed,clr);},0);// sleep(20);\n};export var setnodes=function setnodes(algonum,bmb){clearwalls_nodes();clearpath();dfssetup();var nodes=document.getElementsByClassName(\"nodes\");var allnodes=_toConsumableArray(nodes);var src,dest,bomb;for(var i=0;i<2059;i++){if(allnodes[i].children.length==1&&allnodes[i].children[0].id===\"source\"){var str=allnodes[i].children[0].parentNode.id;str=str.replace(\"node\",\"\");src=parseInt(str);console.log(src);}else if(allnodes[i].children.length==1&&allnodes[i].children[0].id===\"dest\"){var _str=allnodes[i].children[0].parentNode.id;_str=_str.replace(\"node\",\"\");dest=parseInt(_str);console.log(dest);}else if(bmb&&allnodes[i].children.length==1&&allnodes[i].children[0].id===\"bomb\"){var _str2=allnodes[i].children[0].parentNode.id;_str2=_str2.replace(\"node\",\"\");bomb=parseInt(_str2);console.log(bomb);}}if(algonum===1)prims(1,1);if(algonum===2)DFS(1,1);if(algonum===3)kruskal();paths();for(var _i8=0;_i8<2059;_i8++){allnodes[_i8].style.backgroundColor=wallnodeclr;allnodes[_i8].style.borderColor=wallnodeclr;}allnodes[src-1].style.backgroundColor=normalnodeclr;allnodes[src-1].style.borderColor=normalborderclr;allnodes[dest-1].style.backgroundColor=normalnodeclr;allnodes[dest-1].style.borderColor=normalborderclr;if(bmb){allnodes[bomb-1].style.backgroundColor=normalnodeclr;allnodes[bomb-1].style.borderColor=normalborderclr;}for(var _i9=0;_i9<stk4.length;_i9++){var _loop2=function _loop2(j){var num=arr[stk4[_i9][j][0]][stk4[_i9][j][1]];wallsarr[num]=false;setTimeout(function(){callvisit(num,allnodes,5,normalnodeclr);},0);};for(var j=0;j<stk4[_i9].length;j++){_loop2(j);}}pointsurroundingwalls(src);pointsurroundingwalls(dest);if(bmb)pointsurroundingwalls(bomb);console.log(stk4);// for (let i = 0; i < 2059; i++) {\n//   if (wallsarr[i] && allnodes[i].children.length == 0) {\n//     allnodes[i].style.backgroundColor = wallnodeclr;\n//     allnodes[i].style.borderColor = wallnodeclr;\n//     allnodes[i].style.animation = \"popup 150ms ease-out\";\n//   }\n// }\nsetTimeout(function(){return activateit(allnodes,-1);},0);};","map":{"version":3,"sources":["/home/saikrupananda/vscode/LiveSites/Visualizer/Visualize/src/components/pathfinder/mazes/dfsmaze.js"],"names":["activateit","sleep","clearwalls_nodes","clearpath","adjlist","wallnodeclr","normalborderclr","normalnodeclr","visited1","visited2","pathnodeclr","getcoord","stack","krush","visited","stk2","stk3","stk4","wallsarr","arr","directions1","directions2","dfssetup","i","temp","j","push","val","getRndnDirec","array","currentIndex","length","randomIndex","Math","floor","random","shuffle","DFS","forEach","x","y","p","q","prims","node","shift","root","Array","visitd","addEdge","u","v","dist","get","addVertex","set","graphsetup","vrtx","m","nd","parent","a","union_find","b","d","e","kruskal","cmpr","diff","paths","pointsurroundingwalls","num","nodes","document","getElementsByClassName","allnodes","console","log","setTimeout","callvisit","visitclr","alldivs","speed","clr","style","backgroundColor","borderColor","animation","callvisit2","setnodes","algonum","bmb","src","dest","bomb","children","id","str","parentNode","replace","parseInt"],"mappings":"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","sourcesContent":["import { activateit, sleep, clearwalls_nodes, clearpath } from \"../clearfuncs\";\nimport { adjlist } from \"../algorithms/gridsetup\";\n\nimport {\n  wallnodeclr,\n  normalborderclr,\n  normalnodeclr,\n  visited1,\n  visited2,\n  pathnodeclr,\n} from \"../colors\";\n\nimport { getcoord } from \"./krushkals\";\n\nlet stack = [];\nlet krush = [];\nlet visited = [];\nlet stk2 = [];\nlet stk3 = [];\nlet stk4 = [];\nlet wallsarr = [];\nlet arr = [];\nlet directions1 = [\n  [0, 2],\n  [0, -2],\n  [-2, 0],\n  [2, 0],\n];\nlet directions2 = [\n  [0, 1],\n  [0, -1],\n  [-1, 0],\n  [1, 0],\n];\n\nconst dfssetup = () => {\n  stack = [];\n  visited = [];\n  stk2 = [];\n  stk3 = [];\n  stk4 = [];\n  wallsarr = [];\n  for (let i = 0; i < 29; i++) {\n    let temp = [];\n    for (let j = 0; j < 71; j++) temp.push(false);\n    visited.push(temp);\n  }\n  arr = [];\n  let val = 0;\n  for (let i = 0; i < 29; i++) {\n    let temp = [];\n    for (let j = 0; j < 71; j++) {\n      temp.push(val);\n      val++;\n    }\n    arr.push(temp);\n  }\n\n  directions1 = [\n    [0, 2],\n    [0, -2],\n    [-2, 0],\n    [2, 0],\n  ];\n  directions2 = [\n    [0, 1],\n    [0, -1],\n    [-1, 0],\n    [1, 0],\n  ];\n  for (let i = 0; i < 2059; i++) {\n    wallsarr[i] = true;\n  }\n};\n// dfssetup();\n\nfunction getRndnDirec() {\n  let array = [\n    [0, 2],\n    [0, -2],\n    [-2, 0],\n    [2, 0],\n  ];\n  var currentIndex = array.length,\n    randomIndex;\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex--;\n    [array[currentIndex], array[randomIndex]] = [\n      array[randomIndex],\n      array[currentIndex],\n    ];\n  }\n  return array;\n}\n\nexport const shuffle = (array) => {\n  var currentIndex = array.length,\n    randomIndex;\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex--;\n    [array[currentIndex], array[randomIndex]] = [\n      array[randomIndex],\n      array[currentIndex],\n    ];\n  }\n  return array;\n};\n\nfunction DFS(i, j) {\n  stack.push([i, j]);\n  var temp = getRndnDirec();\n  visited[i][j] = true;\n  temp.forEach(([x, y]) => {\n    let p = i + x,\n      q = j + y;\n    if (0 <= p && p < 29 && 0 <= q && q < 71) {\n      if (!visited[p][q]) {\n        stk2.push([\n          [i, j],\n          [p, q],\n        ]);\n        DFS(p, q);\n      }\n    }\n  });\n}\n\nconst prims = (i, j) => {\n  stack.push([\n    [i, j],\n    [i, j],\n  ]);\n  while (stack.length !== 0) {\n    stack = shuffle(stack);\n    let node = stack[0];\n    stk2.push(node);\n    visited[node[1][0]][node[1][1]] = true;\n    stack.shift();\n    directions1.forEach(([x, y]) => {\n      let p = node[1][0] + x,\n        q = node[1][1] + y;\n      if (0 <= p && p < 29 && 0 <= q && q < 71) {\n        if (!visited[p][q]) {\n          stack.push([\n            [node[1][0], node[1][1]],\n            [p, q],\n          ]);\n          visited[p][q] = true;\n        }\n      }\n    });\n  }\n};\n\n//mhg\n\nlet root = new Array(2060);\nlet visitd = new Array(2060);\n\nconst addEdge = (u, v, dist) => {\n  adjlist.get(u).push([v, dist]);\n};\n\nconst addVertex = (v) => {\n  adjlist.set(v, []);\n};\n\nexport const graphsetup = () => {\n  let val = 0;\n  let arr = new Array(29);\n  for (let i = 0; i < 29; i++) {\n    arr[i] = new Array(71);\n  }\n  for (let i = 0; i < 29; i++) {\n    for (let j = 0; j < 71; j++) {\n      val++;\n      arr[i][j] = val;\n    }\n  }\n  for (let i = 73; i <= 2059; i += 2) {\n    addVertex(i);\n  }\n  for (let i = 1; i < 29; i += 2) {\n    for (let j = 1; j < 71; j += 2) {\n      let vrtx = arr[i][j];\n      if (i - 2 >= 0) {\n        addEdge(vrtx, arr[i - 2][j], 1);\n      }\n      if (j + 2 < 71) {\n        addEdge(vrtx, arr[i][j + 2], 1);\n      }\n      if (i + 2 < 29) {\n        addEdge(vrtx, arr[i + 2][j], 1);\n      }\n      if (j - 2 >= 0) {\n        addEdge(vrtx, arr[i][j - 2], 1);\n      }\n    }\n  }\n  for (let i = 73; i <= 2059; i += 2) {\n    root[i] = i;\n  }\n\n  for (let i = 73; i <= 2059; i += 2) {\n    let m = adjlist.get(i);\n    for (let nd of m) {\n      if (!visitd[nd[0]]) krush.push([i, nd[0]]);\n    }\n    visitd[m] = 1;\n  }\n};\n\nexport const parent = (a) => {\n  while (root[a] != a) {\n    root[a] = root[root[a]];\n    a = root[a];\n  }\n  return a;\n};\n\nexport const union_find = (a, b) => {\n  let d = parent(a);\n  let e = parent(b);\n  root[d] = root[e];\n};\n\n//mh\n\nconst kruskal = () => {\n  graphsetup();\n  let a, b;\n  for (let i = 0; i < 5; i++) krush = shuffle(krush);\n  for (let node of krush) {\n    a = node[0];\n    b = node[1];\n    if (parent(a) != parent(b)) {\n      //only select edge if it does not create a cycle (ie the two nodes forming it have different root nodes)\n      stk2.push([getcoord(a), getcoord(b)]);\n      union_find(a, b);\n    }\n  }\n};\n\nfunction cmpr(x, y) {\n  for (let i = 0; i < directions1.length; i++) {\n    if (directions1[i][0] == x && directions1[i][1] == y) {\n      return directions2[i];\n    }\n  }\n  return [0, 0];\n}\n\nfunction diff(a, b, p, q) {\n  let x = p - a;\n  let y = q - b;\n  let arr = cmpr(x, y);\n  stk3.push([a + arr[0], b + arr[1]]);\n  stk4.push([\n    [a, b],\n    [a + arr[0], b + arr[1]],\n    [p, q],\n  ]);\n}\n\nconst paths = () => {\n  for (let i = 0; i < stk2.length; i++) {\n    let a = stk2[i][0][0];\n    let b = stk2[i][0][1];\n    let p = stk2[i][1][0];\n    let q = stk2[i][1][1];\n    diff(a, b, p, q);\n  }\n  // console.log(stk3);\n};\n\nconst pointsurroundingwalls = (num) => {\n  let nodes = document.getElementsByClassName(\"nodes\");\n  let allnodes = [...nodes];\n  let val = 0;\n  let i, j;\n  for (let x = 0; x < 29; x++) {\n    for (let y = 0; y < 71; y++) {\n      val++;\n      if (val == num) {\n        i = x;\n        j = y;\n      }\n    }\n  }\n  console.log(i, j);\n  if (i >= 0 && i <= 28 && j >= 0 && j <= 70) {\n    if (j + 1 <= 70 && wallsarr[arr[i][j + 1]]) {\n      wallsarr[arr[i][j + 1]] = false;\n      setTimeout(() => {\n        callvisit(arr[i][j + 1], allnodes, 7, normalnodeclr);\n      }, 0);\n    } else if (j - 1 >= 0 && wallsarr[arr[i][j - 1]]) {\n      wallsarr[arr[i][j - 1]] = false;\n      setTimeout(() => {\n        callvisit(arr[i][j - 1], allnodes, 7, normalnodeclr);\n      }, 0);\n    } else if (i + 1 <= 28 && wallsarr[arr[i + 1][j]]) {\n      wallsarr[arr[i + 1][j]] = false;\n      setTimeout(() => {\n        callvisit(arr[i + 1][j], allnodes, 7, normalnodeclr);\n      }, 0);\n    } else if (i - 1 >= 0 && wallsarr[arr[i - 1][j]]) {\n      wallsarr[arr[i - 1][j]] = false;\n      setTimeout(() => {\n        callvisit(arr[i - 1][j], allnodes, 7, normalnodeclr);\n      }, 0);\n    }\n  }\n};\n\nconst visitclr = (i, alldivs, speed, clr) => {\n  alldivs[i].style.backgroundColor = normalnodeclr;\n  alldivs[i].style.borderColor = normalborderclr;\n  alldivs[i].style.animation = \"popup4 300ms ease-in\";\n  sleep(speed);\n  // sleep(speed + speed * 0.4);\n};\n\nconst callvisit = (i, alldivs, speed, clr) => {\n  setTimeout(() => {\n    visitclr(i, alldivs, speed, clr);\n  }, 0);\n  // sleep(20);\n};\n\nconst callvisit2 = (i, alldivs, speed, clr) => {\n  setTimeout(() => {\n    callvisit(i, alldivs, speed, clr);\n  }, 0);\n  // sleep(20);\n};\n\nexport const setnodes = (algonum, bmb) => {\n  clearwalls_nodes();\n  clearpath();\n  dfssetup();\n  let nodes = document.getElementsByClassName(\"nodes\");\n  let allnodes = [...nodes];\n  let src, dest, bomb;\n  for (let i = 0; i < 2059; i++) {\n    if (\n      allnodes[i].children.length == 1 &&\n      allnodes[i].children[0].id === \"source\"\n    ) {\n      let str = allnodes[i].children[0].parentNode.id;\n      str = str.replace(\"node\", \"\");\n      src = parseInt(str);\n      console.log(src);\n    } else if (\n      allnodes[i].children.length == 1 &&\n      allnodes[i].children[0].id === \"dest\"\n    ) {\n      let str = allnodes[i].children[0].parentNode.id;\n      str = str.replace(\"node\", \"\");\n      dest = parseInt(str);\n      console.log(dest);\n    } else if (\n      bmb &&\n      allnodes[i].children.length == 1 &&\n      allnodes[i].children[0].id === \"bomb\"\n    ) {\n      let str = allnodes[i].children[0].parentNode.id;\n      str = str.replace(\"node\", \"\");\n      bomb = parseInt(str);\n      console.log(bomb);\n    }\n  }\n  if (algonum === 1) prims(1, 1);\n  if (algonum === 2) DFS(1, 1);\n  if (algonum === 3) kruskal();\n  paths();\n  for (let i = 0; i < 2059; i++) {\n    allnodes[i].style.backgroundColor = wallnodeclr;\n    allnodes[i].style.borderColor = wallnodeclr;\n  }\n  allnodes[src - 1].style.backgroundColor = normalnodeclr;\n  allnodes[src - 1].style.borderColor = normalborderclr;\n  allnodes[dest - 1].style.backgroundColor = normalnodeclr;\n  allnodes[dest - 1].style.borderColor = normalborderclr;\n  if (bmb) {\n    allnodes[bomb - 1].style.backgroundColor = normalnodeclr;\n    allnodes[bomb - 1].style.borderColor = normalborderclr;\n  }\n  for (let i = 0; i < stk4.length; i++) {\n    for (let j = 0; j < stk4[i].length; j++) {\n      let num = arr[stk4[i][j][0]][stk4[i][j][1]];\n      wallsarr[num] = false;\n      setTimeout(() => {\n        callvisit(num, allnodes, 5, normalnodeclr);\n      }, 0);\n    }\n  }\n  pointsurroundingwalls(src);\n  pointsurroundingwalls(dest);\n  if (bmb) pointsurroundingwalls(bomb);\n\n  console.log(stk4);\n  // for (let i = 0; i < 2059; i++) {\n  //   if (wallsarr[i] && allnodes[i].children.length == 0) {\n  //     allnodes[i].style.backgroundColor = wallnodeclr;\n  //     allnodes[i].style.borderColor = wallnodeclr;\n  //     allnodes[i].style.animation = \"popup 150ms ease-out\";\n  //   }\n  // }\n  setTimeout(() => activateit(allnodes, -1), 0);\n};\n"]},"metadata":{},"sourceType":"module"}